[{"C:\\Users\\Ritika Mahajan\\.vscode\\Blockchain_Project\\NFT-Marketplace\\src\\index.js":"1","C:\\Users\\Ritika Mahajan\\.vscode\\Blockchain_Project\\NFT-Marketplace\\src\\serviceWorker.js":"2","C:\\Users\\Ritika Mahajan\\.vscode\\Blockchain_Project\\NFT-Marketplace\\src\\frontend\\components\\App.js":"3","C:\\Users\\Ritika Mahajan\\.vscode\\Blockchain_Project\\NFT-Marketplace\\src\\frontend\\components\\Create.js":"4","C:\\Users\\Ritika Mahajan\\.vscode\\Blockchain_Project\\NFT-Marketplace\\src\\frontend\\components\\Home.js":"5","C:\\Users\\Ritika Mahajan\\.vscode\\Blockchain_Project\\NFT-Marketplace\\src\\frontend\\components\\MyListedItems.js":"6","C:\\Users\\Ritika Mahajan\\.vscode\\Blockchain_Project\\NFT-Marketplace\\src\\frontend\\components\\MyPurchases.js":"7","C:\\Users\\Ritika Mahajan\\.vscode\\Blockchain_Project\\NFT-Marketplace\\src\\frontend\\components\\Navbar.js":"8"},{"size":504,"mtime":1683211809951,"results":"9","hashOfConfig":"10"},{"size":5086,"mtime":1683211809958,"results":"11","hashOfConfig":"10"},{"size":3042,"mtime":1683211809853,"results":"12","hashOfConfig":"10"},{"size":2942,"mtime":1683211809860,"results":"13","hashOfConfig":"10"},{"size":2826,"mtime":1683211809870,"results":"14","hashOfConfig":"10"},{"size":3123,"mtime":1683211809877,"results":"15","hashOfConfig":"10"},{"size":2371,"mtime":1683211809886,"results":"16","hashOfConfig":"10"},{"size":1956,"mtime":1683211809894,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","suppressedMessages":"20","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"k859lf",{"filePath":"21","messages":"22","suppressedMessages":"23","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"24","messages":"25","suppressedMessages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","suppressedMessages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33"},{"filePath":"34","messages":"35","suppressedMessages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37"},{"filePath":"38","messages":"39","suppressedMessages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41"},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45"},"C:\\Users\\Ritika Mahajan\\.vscode\\Blockchain_Project\\NFT-Marketplace\\src\\index.js",[],[],"C:\\Users\\Ritika Mahajan\\.vscode\\Blockchain_Project\\NFT-Marketplace\\src\\serviceWorker.js",[],[],"C:\\Users\\Ritika Mahajan\\.vscode\\Blockchain_Project\\NFT-Marketplace\\src\\frontend\\components\\App.js",[],[],"C:\\Users\\Ritika Mahajan\\.vscode\\Blockchain_Project\\NFT-Marketplace\\src\\frontend\\components\\Create.js",[],[],"C:\\Users\\Ritika Mahajan\\.vscode\\Blockchain_Project\\NFT-Marketplace\\src\\frontend\\components\\Home.js",["46"],[],"import { useState, useEffect } from 'react'\r\nimport { ethers } from \"ethers\"\r\nimport { Row, Col, Card, Button } from 'react-bootstrap'\r\n\r\nconst Home = ({ marketplace, nft }) => {\r\n  const [loading, setLoading] = useState(true)\r\n  const [items, setItems] = useState([])\r\n  const loadMarketplaceItems = async () => {\r\n    // Load all unsold items\r\n    const itemCount = await marketplace.itemCount()\r\n    let items = []\r\n    for (let i = 1; i <= itemCount; i++) {\r\n      const item = await marketplace.items(i)\r\n      if (!item.sold) {\r\n        // get uri url from nft contract\r\n        const uri = await nft.tokenURI(item.tokenId)\r\n        // use uri to fetch the nft metadata stored on ipfs \r\n        const response = await fetch(uri)\r\n        const metadata = await response.json()\r\n        // get total price of item (item price + fee)\r\n        const totalPrice = await marketplace.getTotalPrice(item.itemId)\r\n        // Add item to items array\r\n        items.push({\r\n          totalPrice,\r\n          itemId: item.itemId,\r\n          seller: item.seller,\r\n          name: metadata.name,\r\n          description: metadata.description,\r\n          image: metadata.image\r\n        })\r\n      }\r\n    }\r\n    setLoading(false)\r\n    setItems(items)\r\n  }\r\n\r\n  const buyMarketItem = async (item) => {\r\n    await (await marketplace.purchaseItem(item.itemId, { value: item.totalPrice })).wait()\r\n    loadMarketplaceItems()\r\n  }\r\n\r\n  useEffect(() => {\r\n    loadMarketplaceItems()\r\n  }, [])\r\n  if (loading) return (\r\n    <main style={{ padding: \"1rem 0\" }}>\r\n      <h2>Loading...</h2>\r\n    </main>\r\n  )\r\n  return (\r\n    <div className=\"flex justify-center\">\r\n      {items.length > 0 ?\r\n        <div className=\"px-5 container\">\r\n          <Row xs={1} md={2} lg={4} className=\"g-4 py-5\">\r\n            {items.map((item, idx) => (\r\n              <Col key={idx} className=\"overflow-hidden\">\r\n                <Card>\r\n                  <Card.Img variant=\"top\" src={item.image} />\r\n                  <Card.Body color=\"secondary\">\r\n                    <Card.Title>{item.name}</Card.Title>\r\n                    <Card.Text>\r\n                      {item.description}\r\n                    </Card.Text>\r\n                  </Card.Body>\r\n                  <Card.Footer>\r\n                    <div className='d-grid'>\r\n                      <Button onClick={() => buyMarketItem(item)} variant=\"primary\" size=\"lg\">\r\n                        Buy for {ethers.utils.formatEther(item.totalPrice)} ETH\r\n                      </Button>\r\n                    </div>\r\n                  </Card.Footer>\r\n                </Card>\r\n              </Col>\r\n            ))}\r\n          </Row>\r\n        </div>\r\n        : (\r\n          <main style={{ padding: \"1rem 0\" }}>\r\n            <h2>No listed assets</h2>\r\n          </main>\r\n        )}\r\n    </div>\r\n  );\r\n}\r\nexport default Home","C:\\Users\\Ritika Mahajan\\.vscode\\Blockchain_Project\\NFT-Marketplace\\src\\frontend\\components\\MyListedItems.js",["47"],[],"import { useState, useEffect } from 'react'\r\nimport { ethers } from \"ethers\"\r\nimport { Row, Col, Card } from 'react-bootstrap'\r\n\r\nfunction renderSoldItems(items) {\r\n  return (\r\n    <>\r\n      <h2>Sold</h2>\r\n      <Row xs={1} md={2} lg={4} className=\"g-4 py-3\">\r\n        {items.map((item, idx) => (\r\n          <Col key={idx} className=\"overflow-hidden\">\r\n            <Card>\r\n              <Card.Img variant=\"top\" src={item.image} />\r\n              <Card.Footer>\r\n                For {ethers.utils.formatEther(item.totalPrice)} ETH - Recieved {ethers.utils.formatEther(item.price)} ETH\r\n              </Card.Footer>\r\n            </Card>\r\n          </Col>\r\n        ))}\r\n      </Row>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default function MyListedItems({ marketplace, nft, account }) {\r\n  const [loading, setLoading] = useState(true)\r\n  const [listedItems, setListedItems] = useState([])\r\n  const [soldItems, setSoldItems] = useState([])\r\n  const loadListedItems = async () => {\r\n    // Load all sold items that the user listed\r\n    const itemCount = await marketplace.itemCount()\r\n    let listedItems = []\r\n    let soldItems = []\r\n    for (let indx = 1; indx <= itemCount; indx++) {\r\n      const i = await marketplace.items(indx)\r\n      if (i.seller.toLowerCase() === account) {\r\n        // get uri url from nft contract\r\n        const uri = await nft.tokenURI(i.tokenId)\r\n        // use uri to fetch the nft metadata stored on ipfs \r\n        const response = await fetch(uri)\r\n        const metadata = await response.json()\r\n        // get total price of item (item price + fee)\r\n        const totalPrice = await marketplace.getTotalPrice(i.itemId)\r\n        // define listed item object\r\n        let item = {\r\n          totalPrice,\r\n          price: i.price,\r\n          itemId: i.itemId,\r\n          name: metadata.name,\r\n          description: metadata.description,\r\n          image: metadata.image\r\n        }\r\n        listedItems.push(item)\r\n        // Add listed item to sold items array if sold\r\n        if (i.sold) soldItems.push(item)\r\n      }\r\n    }\r\n    setLoading(false)\r\n    setListedItems(listedItems)\r\n    setSoldItems(soldItems)\r\n  }\r\n  useEffect(() => {\r\n    loadListedItems()\r\n  }, [])\r\n  if (loading) return (\r\n    <main style={{ padding: \"1rem 0\" }}>\r\n      <h2>Loading...</h2>\r\n    </main>\r\n  )\r\n  return (\r\n    <div className=\"flex justify-center\">\r\n      {listedItems.length > 0 ?\r\n        <div className=\"px-5 py-3 container\">\r\n            <h2>Listed</h2>\r\n          <Row xs={1} md={2} lg={4} className=\"g-4 py-3\">\r\n            {listedItems.map((item, idx) => (\r\n              <Col key={idx} className=\"overflow-hidden\">\r\n                <Card>\r\n                  <Card.Img variant=\"top\" src={item.image} />\r\n                  <Card.Footer>{ethers.utils.formatEther(item.totalPrice)} ETH</Card.Footer>\r\n                </Card>\r\n              </Col>\r\n            ))}\r\n          </Row>\r\n            {soldItems.length > 0 && renderSoldItems(soldItems)}\r\n        </div>\r\n        : (\r\n          <main style={{ padding: \"1rem 0\" }}>\r\n            <h2>No listed assets</h2>\r\n          </main>\r\n        )}\r\n    </div>\r\n  );\r\n}","C:\\Users\\Ritika Mahajan\\.vscode\\Blockchain_Project\\NFT-Marketplace\\src\\frontend\\components\\MyPurchases.js",["48"],[],"import { useState, useEffect } from 'react'\r\nimport { ethers } from \"ethers\"\r\nimport { Row, Col, Card } from 'react-bootstrap'\r\n\r\nexport default function MyPurchases({ marketplace, nft, account }) {\r\n  const [loading, setLoading] = useState(true)\r\n  const [purchases, setPurchases] = useState([])\r\n  const loadPurchasedItems = async () => {\r\n    // Fetch purchased items from marketplace by quering Offered events with the buyer set as the user\r\n    const filter =  marketplace.filters.Bought(null,null,null,null,null,account)\r\n    const results = await marketplace.queryFilter(filter)\r\n    //Fetch metadata of each nft and add that to listedItem object.\r\n    const purchases = await Promise.all(results.map(async i => {\r\n      // fetch arguments from each result\r\n      i = i.args\r\n      // get uri url from nft contract\r\n      const uri = await nft.tokenURI(i.tokenId)\r\n      // use uri to fetch the nft metadata stored on ipfs \r\n      const response = await fetch(uri)\r\n      const metadata = await response.json()\r\n      // get total price of item (item price + fee)\r\n      const totalPrice = await marketplace.getTotalPrice(i.itemId)\r\n      // define listed item object\r\n      let purchasedItem = {\r\n        totalPrice,\r\n        price: i.price,\r\n        itemId: i.itemId,\r\n        name: metadata.name,\r\n        description: metadata.description,\r\n        image: metadata.image\r\n      }\r\n      return purchasedItem\r\n    }))\r\n    setLoading(false)\r\n    setPurchases(purchases)\r\n  }\r\n  useEffect(() => {\r\n    loadPurchasedItems()\r\n  }, [])\r\n  if (loading) return (\r\n    <main style={{ padding: \"1rem 0\" }}>\r\n      <h2>Loading...</h2>\r\n    </main>\r\n  )\r\n  return (\r\n    <div className=\"flex justify-center\">\r\n      {purchases.length > 0 ?\r\n        <div className=\"px-5 container\">\r\n          <Row xs={1} md={2} lg={4} className=\"g-4 py-5\">\r\n            {purchases.map((item, idx) => (\r\n              <Col key={idx} className=\"overflow-hidden\">\r\n                <Card>\r\n                  <Card.Img variant=\"top\" src={item.image} />\r\n                  <Card.Footer>{ethers.utils.formatEther(item.totalPrice)} ETH</Card.Footer>\r\n                </Card>\r\n              </Col>\r\n            ))}\r\n          </Row>\r\n        </div>\r\n        : (\r\n          <main style={{ padding: \"1rem 0\" }}>\r\n            <h2>No purchases</h2>\r\n          </main>\r\n        )}\r\n    </div>\r\n  );\r\n}","C:\\Users\\Ritika Mahajan\\.vscode\\Blockchain_Project\\NFT-Marketplace\\src\\frontend\\components\\Navbar.js",["49"],[],"import {\r\n    Link\r\n} from \"react-router-dom\";\r\nimport { Navbar, Nav, Button, Container } from 'react-bootstrap'\r\nimport market from './market.png'\r\n\r\nconst Navigation = ({ web3Handler, account }) => {\r\n    return (\r\n        <Navbar expand=\"lg\" bg=\"secondary\" variant=\"dark\">\r\n            <Container>\r\n            \r\n                {/* <Navbar.Brand>\r\n                    &nbsp;\r\n                </Navbar.Brand> */}\r\n                <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n                <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n                    <Nav className=\"me-auto\">\r\n                    <Nav.Link as={Link} to=\"#\">NFT Marketplace</Nav.Link>\r\n                        <Nav.Link as={Link} to=\"/\">Home</Nav.Link>\r\n                        <Nav.Link as={Link} to=\"/create\">Create</Nav.Link>\r\n                        <Nav.Link as={Link} to=\"/my-listed-items\">My Listed Items</Nav.Link>\r\n                        <Nav.Link as={Link} to=\"/my-purchases\">My Purchases</Nav.Link>\r\n                    </Nav>\r\n                    <Nav>\r\n                        {account ? (\r\n                            <Nav.Link\r\n                                href={`https://etherscan.io/address/${account}`}\r\n                                target=\"_blank\"\r\n                                rel=\"noopener noreferrer\"\r\n                                className=\"button nav-button btn-sm mx-4\">\r\n                                <Button variant=\"outline-light\">\r\n                                    {account.slice(0, 5) + '...' + account.slice(38, 42)}\r\n                                </Button>\r\n\r\n                            </Nav.Link>\r\n                        ) : (\r\n                            <Button onClick={web3Handler} variant=\"outline-light\">Connect Wallet</Button>\r\n                        )}\r\n                    </Nav>\r\n                </Navbar.Collapse>\r\n            </Container>\r\n        </Navbar>\r\n    )\r\n\r\n}\r\n\r\nexport default Navigation;",{"ruleId":"50","severity":1,"message":"51","line":44,"column":6,"nodeType":"52","endLine":44,"endColumn":8,"suggestions":"53"},{"ruleId":"50","severity":1,"message":"54","line":64,"column":6,"nodeType":"52","endLine":64,"endColumn":8,"suggestions":"55"},{"ruleId":"50","severity":1,"message":"56","line":39,"column":6,"nodeType":"52","endLine":39,"endColumn":8,"suggestions":"57"},{"ruleId":"58","severity":1,"message":"59","line":5,"column":8,"nodeType":"60","messageId":"61","endLine":5,"endColumn":14},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'loadMarketplaceItems'. Either include it or remove the dependency array.","ArrayExpression",["62"],"React Hook useEffect has a missing dependency: 'loadListedItems'. Either include it or remove the dependency array.",["63"],"React Hook useEffect has a missing dependency: 'loadPurchasedItems'. Either include it or remove the dependency array.",["64"],"no-unused-vars","'market' is defined but never used.","Identifier","unusedVar",{"desc":"65","fix":"66"},{"desc":"67","fix":"68"},{"desc":"69","fix":"70"},"Update the dependencies array to be: [loadMarketplaceItems]",{"range":"71","text":"72"},"Update the dependencies array to be: [loadListedItems]",{"range":"73","text":"74"},"Update the dependencies array to be: [loadPurchasedItems]",{"range":"75","text":"76"},[1471,1473],"[loadMarketplaceItems]",[2182,2184],"[loadListedItems]",[1538,1540],"[loadPurchasedItems]"]